/* Mobile-First Configuration for Search and Navigation */

/* MOBILE FIRST - Default styles for mobile devices */

/* Hide keyboard shortcut on mobile - not useful on touch devices */
.DocSearch-Button-Keys {
  display: none !important;
}

/* Make search button more touch-friendly on mobile */
.VPNavBarSearch button.DocSearch.DocSearch-Button {
  width: 44px !important;  /* Minimum touch target size */
  height: 44px !important;
  min-width: 44px !important;
  padding: 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Hide search text on mobile - only show icon */
.DocSearch-Button-Placeholder {
  display: none !important;
}

/* Keep the original search icon visible */
.DocSearch-Button-Container .DocSearch-Search-Icon {
  display: block !important;
  width: 20px !important;
  height: 20px !important;
}

/* TABLET AND DESKTOP - Styles for larger screens */
@media (min-width: 768px) {
  /* Show keyboard shortcut on tablet/desktop */
  .DocSearch-Button-Keys {
    display: inline-flex !important;
    align-items: center !important;
    gap: 2px !important;
    border: 1px solid var(--vp-c-divider) !important;
    border-radius: 4px !important;
    padding: 0 6px !important;
    height: 20px !important;
    line-height: 20px !important;
    transition: all 0.2s ease !important;
  }

  /* Show search placeholder text */
  .DocSearch-Button-Placeholder {
    display: inline !important;
  }


  /* Normal button sizing for desktop */
  .VPNavBarSearch button.DocSearch.DocSearch-Button {
    width: auto !important;
    height: auto !important;
    min-width: auto !important;
    padding: 0 12px !important;
    margin-left: 0 !important;
  }

  /* Style for keyboard keys on desktop */
  .DocSearch-Button-Key {
    border: none !important;
    padding: 0 !important;
    display: inline-flex !important;
    align-items: center !important;
    height: 20px !important;
    line-height: 20px !important;
  }

  /* Golden border on hover for desktop */
  button.DocSearch.DocSearch-Button:hover .DocSearch-Button-Keys {
    border-color: #c9962f !important;
  }
}

/* Clean search button - remove default hover effects */
button.DocSearch.DocSearch-Button::after {
  display: none !important;
  content: none !important;
}

/* Remove any hover border from the button container */
button.DocSearch.DocSearch-Button {
  border: 1px solid transparent !important;
}

button.DocSearch.DocSearch-Button:hover {
  border: 1px solid transparent !important;
  box-shadow: none !important;
}

/* Keep default VitePress mobile behavior mostly intact */

@media (max-width: 959px) {
  /* Keep hamburger menu visible on tablets */
  .VPNavBarHamburger {
    display: flex !important;
  }

  /* Hide duplicate theme switcher (keep only the one in hamburger menu) */
  .VPNavBarAppearance {
    display: none !important;
  }

  /* Ensure social icons stay visible in navbar */
  .VPNavBarExtra .VPSocialLinks {
    display: flex !important;
    align-items: center !important;
    gap: 2px !important;  /* Tight spacing between social icons */
  }

  /* Main container layout - push everything to the right */
  .VPNavBar .container {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
  }

  /* Logo stays on the left */
  .VPNavBarTitle {
    flex: 0 0 auto !important;
  }

  /* All content (search, social, hamburger) aligned to the right */
  .VPNavBar .content {
    display: flex !important;
    align-items: center !important;
    gap: 4px !important;  /* Compact gap between icons */
    justify-content: flex-end !important;
    margin-left: auto !important;
  }

  /* Ensure content-body takes full available space on tablets */
  .VPNavBar .content-body {
    flex: 1 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: flex-end !important;
  }

  /* Keep search visible */
  .VPNavBarSearch {
    display: flex !important;
    margin-left: 0 !important;
  }

  /* Override the mobile margin we set earlier */
  @media (max-width: 767px) {
    .VPNavBarSearch button.DocSearch.DocSearch-Button {
      margin-left: 0 !important;
    }
  }

  /* Show VPNavBarExtra but control what's inside */
  .VPNavBarExtra {
    display: flex !important;
    flex: 0 0 auto !important;
  }

  /* Hide navigation menu links on mobile, show on tablet */
  .VPNavBarMenu {
    display: none !important;
  }

  @media (min-width: 960px) {
    /* Show nav menu only on larger tablets and desktop */
    .VPNavBarMenu {
      display: flex !important;
      align-items: center !important;
      gap: 0.75rem !important;
      margin-left: 1.5rem !important; /* Add space after logo */
    }

    /* Ensure container has proper layout */
    .VPNavBar .container {
      display: flex !important;
      align-items: center !important;
      justify-content: space-between !important;
      gap: 0.75rem !important;
    }

    /* Keep title/logo in place */
    .VPNavBarTitle {
      flex: 0 0 auto !important;
      margin-right: 0.75rem !important;
    }
  }

  /* Hide the three dots menu on tablets and mobile (below 960px) */
  @media (max-width: 959px) {
    .VPNavBarExtra .VPFlyout {
      display: none !important;
    }

    .VPNavBarExtra .VPNavBarMenuGroup {
      display: none !important;
    }

    .VPNavBarExtra button:has(.vpi-more-horizontal) {
      display: none !important;
    }

    /* Also hide navigation menu on tablets */
    .VPNavBarMenu {
      display: none !important;
    }
  }

  /* Hamburger menu positioning and visibility */
  .VPNavBarHamburger {
    margin-left: 8px !important;
    flex: 0 0 auto !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    visibility: visible !important;
    opacity: 1 !important;
  }

  .VPNavBarHamburger button {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
  }

  /* Fix close button spacing when menu is open */
  .VPNavScreen .VPNavBarHamburger {
    position: fixed !important;
    right: 16px !important;
    top: 16px !important;
    margin: 0 !important;
    z-index: 100 !important; /* Ensure it stays above content */
  }

  /* Hide middle line completely when menu is open (X state) */
  .VPNavBarHamburger[aria-expanded="true"] .top,
  .VPNavBarHamburger[aria-expanded="true"] .bottom {
    opacity: 1 !important;
  }

  .VPNavBarHamburger[aria-expanded="true"] .middle {
    opacity: 0 !important;
    visibility: hidden !important;
  }

  /* Make X icon slightly larger to match search icon */
  .VPNavBarHamburger[aria-expanded="true"] button {
    transform: scale(1.08) !important;
  }

  /* Add smooth transition for the scaling */
  .VPNavBarHamburger button {
    transition: transform 0.25s ease !important;
  }

  /* Standard icon sizing */
  .VPSocialLink {
    width: 36px !important;
    height: 36px !important;
    min-width: 36px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .VPNavBarSearch button {
    width: 42px !important;
    height: 42px !important;
    min-width: 42px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .VPNavBarHamburger button {
    width: 42px !important;
    height: 42px !important;
    min-width: 42px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
}

/* Prevent body scroll when mobile menu is open - using a different approach */
/* When VPNavScreen is visible, lock the body scroll */
html:has(.VPNavScreen) {
  overflow: hidden !important;
}

body:has(.VPNavScreen) {
  overflow: hidden !important;
  position: relative !important; /* Changed from fixed to relative */
}

/* Keep the nav screen in its normal position but ensure it's scrollable and visible */
.VPNavScreen {
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch !important; /* Smooth scrolling on iOS */
  overscroll-behavior: contain !important; /* Prevent scroll chaining */
}

/* Ensure VPNavScreen is visible when open on all screen sizes */
@media (max-width: 959px) {
  .VPNavScreen {
    display: block !important;
    visibility: visible !important;
  }

  /* Force the nav screen to show when hamburger is clicked */
  body:has(.VPNavBarHamburger[aria-expanded="true"]) .VPNavScreen {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
}

/* Mobile menu social icons - sophisticated spacing and styling */
@media (max-width: 959px) {
  .VPNavScreen .VPSocialLinks {
    margin-top: 36px !important;
    margin-bottom: 32px !important;
    justify-content: center !important;
    gap: 40px !important;  /* Generous, luxurious spacing */
    position: relative !important;
  }

  .VPNavScreen .VPSocialLink {
    width: 52px !important;
    height: 52px !important;
    opacity: 0.65 !important;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    border-radius: 14px !important;
    background: transparent !important;
  }

  .VPNavScreen .VPSocialLink:hover {
    opacity: 1 !important;
    transform: translateY(-3px) scale(1.05) !important;
    background: rgba(201, 150, 47, 0.06) !important;
  }

  .VPNavScreen .VPSocialLink svg {
    width: 28px !important;
    height: 28px !important;
    color: var(--vp-c-text-2) !important;
    transition: color 0.4s ease !important;
  }

  .VPNavScreen .VPSocialLink:hover svg {
    color: #c9962f !important;  /* Refined gold on hover */
  }

  /* Elegant divider above social icons */
  .VPNavScreen .VPSocialLinks::before {
    content: '' !important;
    position: absolute !important;
    top: -18px !important;
    left: 15% !important;
    right: 15% !important;
    height: 1px !important;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(201, 150, 47, 0.08) 15%,
      rgba(201, 150, 47, 0.12) 50%,
      rgba(201, 150, 47, 0.08) 85%,
      transparent
    ) !important;
  }
}